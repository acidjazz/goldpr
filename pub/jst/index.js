var Index;

Index = {
  i: function() {
    return setInterval(Index.check, 200);
  },
  check: function() {
    return $('.laxin').each(function(i, el) {
      var perc, thresh;
      if (Index.inViewport(el)) {
        perc = Index.viewable(el);
        thresh = $(el).data('thresh');
        if (thresh === void 0) {
          thresh = 70;
        }
        if (perc > thresh && $(el).hasClass('off')) {
          _.on($(el));
        }
        if (perc < thresh && $(el).hasClass('on')) {
          return _.off($(el));
        }
      }
    });
  },
  inViewport: function(el) {
    var rect;
    rect = el.getBoundingClientRect();
    return (rect.top >= 0 || rect.bottom >= 0) && (rect.top <= window.innerHeight || rect.bottom <= window.innerHeight);
  },
  viewable: function(el) {
    var diff, elMiddle, height, max, perc, rect, winMiddle;
    rect = el.getBoundingClientRect();
    height = rect.bottom - rect.top;
    elMiddle = rect.top + height / 2;
    winMiddle = window.innerHeight / 2;
    max = window.innerHeight / 2 + height / 2;
    diff = Math.abs(winMiddle - elMiddle);
    perc = Math.round(100 - diff * 100 / max);
    return perc;
  }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxJQUFBOztBQUFBLEtBQUEsR0FFRTtFQUFBLENBQUEsRUFBRyxTQUFBO1dBRUQsV0FBQSxDQUFZLEtBQUssQ0FBQyxLQUFsQixFQUF5QixHQUF6QjtFQUZDLENBQUg7RUFJQSxLQUFBLEVBQU8sU0FBQTtXQUVMLENBQUEsQ0FBRSxRQUFGLENBQVcsQ0FBQyxJQUFaLENBQWlCLFNBQUMsQ0FBRCxFQUFJLEVBQUo7QUFDZixVQUFBO01BQUEsSUFBRyxLQUFLLENBQUMsVUFBTixDQUFpQixFQUFqQixDQUFIO1FBQ0UsSUFBQSxHQUFPLEtBQUssQ0FBQyxRQUFOLENBQWUsRUFBZjtRQUNQLE1BQUEsR0FBUyxDQUFBLENBQUUsRUFBRixDQUFLLENBQUMsSUFBTixDQUFXLFFBQVg7UUFDVCxJQUFlLE1BQUEsS0FBVSxNQUF6QjtVQUFBLE1BQUEsR0FBUyxHQUFUOztRQUNBLElBQUcsSUFBQSxHQUFPLE1BQVAsSUFBa0IsQ0FBQSxDQUFFLEVBQUYsQ0FBSyxDQUFDLFFBQU4sQ0FBZSxLQUFmLENBQXJCO1VBQ0UsQ0FBQyxDQUFDLEVBQUYsQ0FBSyxDQUFBLENBQUUsRUFBRixDQUFMLEVBREY7O1FBRUEsSUFBRyxJQUFBLEdBQU8sTUFBUCxJQUFrQixDQUFBLENBQUUsRUFBRixDQUFLLENBQUMsUUFBTixDQUFlLElBQWYsQ0FBckI7aUJBQ0UsQ0FBQyxDQUFDLEdBQUYsQ0FBTSxDQUFBLENBQUUsRUFBRixDQUFOLEVBREY7U0FORjs7SUFEZSxDQUFqQjtFQUZLLENBSlA7RUFpQkEsVUFBQSxFQUFZLFNBQUMsRUFBRDtBQUVWLFFBQUE7SUFBQSxJQUFBLEdBQU8sRUFBRSxDQUFDLHFCQUFILENBQUE7QUFFUCxXQUNFLENBQUMsSUFBSSxDQUFDLEdBQUwsSUFBWSxDQUFaLElBQWlCLElBQUksQ0FBQyxNQUFMLElBQWUsQ0FBakMsQ0FBQSxJQUNBLENBQUMsSUFBSSxDQUFDLEdBQUwsSUFBWSxNQUFNLENBQUMsV0FBbkIsSUFBa0MsSUFBSSxDQUFDLE1BQUwsSUFBZSxNQUFNLENBQUMsV0FBekQ7RUFOUSxDQWpCWjtFQTBCQSxRQUFBLEVBQVUsU0FBQyxFQUFEO0FBQ1IsUUFBQTtJQUFBLElBQUEsR0FBTyxFQUFFLENBQUMscUJBQUgsQ0FBQTtJQUNQLE1BQUEsR0FBUyxJQUFJLENBQUMsTUFBTCxHQUFZLElBQUksQ0FBQztJQUUxQixRQUFBLEdBQVcsSUFBSSxDQUFDLEdBQUwsR0FBVyxNQUFBLEdBQU87SUFDN0IsU0FBQSxHQUFZLE1BQU0sQ0FBQyxXQUFQLEdBQW1CO0lBQy9CLEdBQUEsR0FBTSxNQUFNLENBQUMsV0FBUCxHQUFtQixDQUFuQixHQUF1QixNQUFBLEdBQU87SUFDcEMsSUFBQSxHQUFPLElBQUksQ0FBQyxHQUFMLENBQVMsU0FBQSxHQUFVLFFBQW5CO0lBQ1AsSUFBQSxHQUFPLElBQUksQ0FBQyxLQUFMLENBQVcsR0FBQSxHQUFNLElBQUEsR0FBSyxHQUFMLEdBQVMsR0FBMUI7QUFFUCxXQUFPO0VBVkMsQ0ExQlYiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJJbmRleCA9XG5cbiAgaTogLT5cblxuICAgIHNldEludGVydmFsIEluZGV4LmNoZWNrLCAyMDBcblxuICBjaGVjazogLT5cblxuICAgICQoJy5sYXhpbicpLmVhY2ggKGksIGVsKSAtPlxuICAgICAgaWYgSW5kZXguaW5WaWV3cG9ydCBlbFxuICAgICAgICBwZXJjID0gSW5kZXgudmlld2FibGUgZWxcbiAgICAgICAgdGhyZXNoID0gJChlbCkuZGF0YSAndGhyZXNoJ1xuICAgICAgICB0aHJlc2ggPSA3MCBpZiB0aHJlc2ggaXMgdW5kZWZpbmVkXG4gICAgICAgIGlmIHBlcmMgPiB0aHJlc2ggYW5kICQoZWwpLmhhc0NsYXNzICdvZmYnXG4gICAgICAgICAgXy5vbiAkKGVsKVxuICAgICAgICBpZiBwZXJjIDwgdGhyZXNoIGFuZCAkKGVsKS5oYXNDbGFzcyAnb24nXG4gICAgICAgICAgXy5vZmYgJChlbClcblxuICAgXG4gIGluVmlld3BvcnQ6IChlbCkgLT5cblxuICAgIHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuXG4gICAgcmV0dXJuKFxuICAgICAgKHJlY3QudG9wID49IDAgfHwgcmVjdC5ib3R0b20gPj0gMCkgJiZcbiAgICAgIChyZWN0LnRvcCA8PSB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgcmVjdC5ib3R0b20gPD0gd2luZG93LmlubmVySGVpZ2h0KVxuICAgIClcblxuICB2aWV3YWJsZTogKGVsKSAtPlxuICAgIHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIGhlaWdodCA9IHJlY3QuYm90dG9tLXJlY3QudG9wXG5cbiAgICBlbE1pZGRsZSA9IHJlY3QudG9wICsgaGVpZ2h0LzJcbiAgICB3aW5NaWRkbGUgPSB3aW5kb3cuaW5uZXJIZWlnaHQvMlxuICAgIG1heCA9IHdpbmRvdy5pbm5lckhlaWdodC8yICsgaGVpZ2h0LzJcbiAgICBkaWZmID0gTWF0aC5hYnMod2luTWlkZGxlLWVsTWlkZGxlKVxuICAgIHBlcmMgPSBNYXRoLnJvdW5kIDEwMCAtIGRpZmYqMTAwL21heFxuXG4gICAgcmV0dXJuIHBlcmNcbiJdfQ==
