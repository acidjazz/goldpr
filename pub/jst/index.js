var Index;

Index = {
  vals: [],
  cache: {
    window: window,
    stickied: false
  },
  i: function() {
    Index.cache.window = $(window);
    if (Index.cache.window.width() > 1000) {
      setInterval(Index.header, 50);
    }
    setInterval(Index.check, 10);
    if (location.hash !== '') {
      _.on(".option_" + (location.hash.replace('#', '')));
    }
    return Index.handlers();
  },
  handlers: function() {
    $('header > .inner > .menu > a.option, .mobile > .inner > .menu > a.option, header > .inner a.logo').click(Index.option);
    return $('.burger').click(Index.burger);
  },
  burger: function() {
    return _.swap('.mobile, .burger');
  },
  option: function(event) {
    var hash;
    event.preventDefault();
    hash = $(this).data('anchor');
    _.off('header > .inner > .menu > .option, .mobile > .inner > .menu > .option');
    _.off('.mobile, .burger');
    _.on(".option_" + hash);
    return setTimeout(function() {
      $('html, body').scrollTo("#" + hash, {
        duration: 50,
        offset: -60
      });
      return location.hash = hash;
    }, 200);
  },
  header: function() {
    var stickySpot;
    stickySpot = 200;
    if (Index.cache.window.scrollTop() > stickySpot && Index.cache.stickied === false) {
      _.on('#sticky');
      Index.cache.stickied = true;
    }
    if (Index.cache.window.scrollTop() < stickySpot && Index.cache.stickied === true) {
      _.off('#sticky');
      return Index.cache.stickied = false;
    }
  },
  check: function() {
    return $('.laxin').each(function(i, el) {
      var diff, jel, perc, ref, ref1, thresh, val;
      if (Index.inViewport(el)) {
        ref = Index.viewable(el), perc = ref[0], diff = ref[1];
        jel = $(el);
        thresh = jel.data('thresh');
        if (thresh === void 0) {
          thresh = 50;
        }
        if (perc > thresh && jel.hasClass('off')) {
          _.on(jel);
        }
        if (perc < thresh && jel.hasClass('on')) {
          _.off(jel);
        }
        if (Index.cache.window.width() > 1000) {
          if (jel.hasClass('laxin_vert')) {
            val = Math.round(diff);
            if (((ref1 = Index.vals) != null ? ref1[i] : void 0) !== val * 3) {
              jel.find('.inner:first').css('transform', "translate3d(0, " + (val * 3) + "px, 0px)");
              jel.find('.overlay').css('transform', "translate3d(0, " + (val * 2) + "px, 0px)");
              jel.find('.overlay > .inner').css('transform', "translate3d(0, " + (val / 5) + "px, 0px)");
              return Index.vals[i] = val * 3;
            }
          }
        }
      }
    });
  },
  inViewport: function(el) {
    var rect;
    rect = el.getBoundingClientRect();
    return (rect.top >= 0 || rect.bottom >= 0) && (rect.top <= window.innerHeight || rect.bottom <= window.innerHeight);
  },
  viewable: function(el) {
    var diff, elMiddle, height, max, nonabs, perc, rect, winMiddle;
    rect = el.getBoundingClientRect();
    height = rect.bottom - rect.top;
    elMiddle = rect.top + height / 2;
    winMiddle = window.innerHeight / 2;
    max = window.innerHeight / 2 + height / 2;
    diff = winMiddle - elMiddle;
    perc = 100 - Math.abs(diff) * 100 / max;
    nonabs = Math.abs(diff) * 100 / max;
    if (diff < 0) {
      nonabs = -nonabs;
    }
    return [perc, nonabs];
  }
};

//# sourceMappingURL=data:application/json;base64,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R0FBZ0IsR0FBQSxHQUFJLEVBSnRCO2FBRkY7V0FERjtTQVpGOztJQUZlLENBQWpCO0VBSEssQ0ExRFA7RUFvRkEsVUFBQSxFQUFZLFNBQUMsRUFBRDtBQUVWLFFBQUE7SUFBQSxJQUFBLEdBQU8sRUFBRSxDQUFDLHFCQUFILENBQUE7QUFFUCxXQUNFLENBQUMsSUFBSSxDQUFDLEdBQUwsSUFBWSxDQUFaLElBQWlCLElBQUksQ0FBQyxNQUFMLElBQWUsQ0FBakMsQ0FBQSxJQUNBLENBQUMsSUFBSSxDQUFDLEdBQUwsSUFBWSxNQUFNLENBQUMsV0FBbkIsSUFBa0MsSUFBSSxDQUFDLE1BQUwsSUFBZSxNQUFNLENBQUMsV0FBekQ7RUFOUSxDQXBGWjtFQTZGQSxRQUFBLEVBQVUsU0FBQyxFQUFEO0FBQ1IsUUFBQTtJQUFBLElBQUEsR0FBTyxFQUFFLENBQUMscUJBQUgsQ0FBQTtJQUNQLE1BQUEsR0FBUyxJQUFJLENBQUMsTUFBTCxHQUFZLElBQUksQ0FBQztJQUUxQixRQUFBLEdBQVcsSUFBSSxDQUFDLEdBQUwsR0FBVyxNQUFBLEdBQU87SUFDN0IsU0FBQSxHQUFZLE1BQU0sQ0FBQyxXQUFQLEdBQW1CO0lBQy9CLEdBQUEsR0FBTSxNQUFNLENBQUMsV0FBUCxHQUFtQixDQUFuQixHQUF1QixNQUFBLEdBQU87SUFDcEMsSUFBQSxHQUFPLFNBQUEsR0FBVTtJQUNqQixJQUFBLEdBQU8sR0FBQSxHQUFNLElBQUksQ0FBQyxHQUFMLENBQVMsSUFBVCxDQUFBLEdBQWUsR0FBZixHQUFtQjtJQUNoQyxNQUFBLEdBQVMsSUFBSSxDQUFDLEdBQUwsQ0FBUyxJQUFULENBQUEsR0FBZSxHQUFmLEdBQW1CO0lBQzVCLElBQW9CLElBQUEsR0FBTyxDQUEzQjtNQUFBLE1BQUEsR0FBUyxDQUFDLE9BQVY7O0FBRUEsV0FBTyxDQUFDLElBQUQsRUFBTyxNQUFQO0VBWkMsQ0E3RlYiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJJbmRleCA9XG5cbiAgdmFsczogW11cbiAgY2FjaGU6XG4gICAgd2luZG93OiB3aW5kb3dcbiAgICBzdGlja2llZDogZmFsc2VcblxuICBpOiAtPlxuXG4gICAgSW5kZXguY2FjaGUud2luZG93ID0gJCh3aW5kb3cpXG5cblxuICAgIGlmIEluZGV4LmNhY2hlLndpbmRvdy53aWR0aCgpID4gMTAwMFxuICAgICAgc2V0SW50ZXJ2YWwgSW5kZXguaGVhZGVyLCA1MFxuXG4gICAgc2V0SW50ZXJ2YWwgSW5kZXguY2hlY2ssIDEwXG5cbiAgICBpZiBsb2NhdGlvbi5oYXNoIGlzbnQgJydcbiAgICAgIF8ub24gXCIub3B0aW9uXyN7bG9jYXRpb24uaGFzaC5yZXBsYWNlKCcjJywnJyl9XCJcblxuICAgIEluZGV4LmhhbmRsZXJzKClcblxuICBoYW5kbGVyczogLT5cblxuICAgICQoJ1xuICAgICAgaGVhZGVyID4gLmlubmVyID4gLm1lbnUgPiBhLm9wdGlvbiwgLm1vYmlsZSA+IC5pbm5lciA+IC5tZW51ID4gYS5vcHRpb24sXG4gICAgICBoZWFkZXIgPiAuaW5uZXIgYS5sb2dvXG4gICAgJykuY2xpY2sgSW5kZXgub3B0aW9uXG4gICAgJCgnLmJ1cmdlcicpLmNsaWNrIEluZGV4LmJ1cmdlclxuXG4gIGJ1cmdlcjogLT5cbiAgICBfLnN3YXAgJy5tb2JpbGUsIC5idXJnZXInXG5cbiAgb3B0aW9uOihldmVudCkgLT5cblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgIGhhc2ggPSAkKHRoaXMpLmRhdGEgJ2FuY2hvcidcbiAgICBfLm9mZiAnaGVhZGVyID4gLmlubmVyID4gLm1lbnUgPiAub3B0aW9uLCAubW9iaWxlID4gLmlubmVyID4gLm1lbnUgPiAub3B0aW9uJ1xuICAgIF8ub2ZmICcubW9iaWxlLCAuYnVyZ2VyJ1xuICAgIF8ub24gXCIub3B0aW9uXyN7aGFzaH1cIlxuICAgIHNldFRpbWVvdXQgLT5cbiAgICAgICQoJ2h0bWwsIGJvZHknKS5zY3JvbGxUbyBcIiMje2hhc2h9XCIsXG4gICAgICAgIGR1cmF0aW9uOiA1MFxuICAgICAgICBvZmZzZXQ6IC02MFxuICAgICAgbG9jYXRpb24uaGFzaCA9IGhhc2hcbiAgICAsIDIwMFxuXG4gIGhlYWRlcjogLT5cblxuICAgIHN0aWNreVNwb3QgPSAyMDBcblxuICAgIGlmIEluZGV4LmNhY2hlLndpbmRvdy5zY3JvbGxUb3AoKSA+IHN0aWNreVNwb3QgYW5kIEluZGV4LmNhY2hlLnN0aWNraWVkIGlzIGZhbHNlXG4gICAgICBfLm9uICcjc3RpY2t5J1xuICAgICAgSW5kZXguY2FjaGUuc3RpY2tpZWQgPSB0cnVlXG5cbiAgICBpZiBJbmRleC5jYWNoZS53aW5kb3cuc2Nyb2xsVG9wKCkgPCBzdGlja3lTcG90IGFuZCBJbmRleC5jYWNoZS5zdGlja2llZCBpcyB0cnVlXG4gICAgICBfLm9mZiAnI3N0aWNreSdcbiAgICAgIEluZGV4LmNhY2hlLnN0aWNraWVkID0gb2ZmXG5cbiAgY2hlY2s6IC0+XG5cblxuICAgICQoJy5sYXhpbicpLmVhY2ggKGksIGVsKSAtPlxuXG4gICAgICBpZiBJbmRleC5pblZpZXdwb3J0IGVsXG4gICAgICAgIFtwZXJjLCBkaWZmXSA9IEluZGV4LnZpZXdhYmxlIGVsXG4gICAgICAgIGplbCA9ICQoZWwpXG5cbiAgICAgICAgdGhyZXNoID0gamVsLmRhdGEgJ3RocmVzaCdcbiAgICAgICAgdGhyZXNoID0gNTAgaWYgdGhyZXNoIGlzIHVuZGVmaW5lZFxuXG4gICAgICAgIGlmIHBlcmMgPiB0aHJlc2ggYW5kIGplbC5oYXNDbGFzcyAnb2ZmJ1xuICAgICAgICAgIF8ub24gamVsXG4gICAgICAgIGlmIHBlcmMgPCB0aHJlc2ggYW5kIGplbC5oYXNDbGFzcyAnb24nXG4gICAgICAgICAgXy5vZmYgamVsXG5cbiAgICAgICAgaWYgSW5kZXguY2FjaGUud2luZG93LndpZHRoKCkgPiAxMDAwXG4gICAgICAgICAgaWYgamVsLmhhc0NsYXNzICdsYXhpbl92ZXJ0J1xuICAgICAgICAgICAgdmFsID0gTWF0aC5yb3VuZChkaWZmKVxuICAgICAgICAgICAgaWYgSW5kZXgudmFscz9baV0gaXNudCB2YWwqM1xuICAgICAgICAgICAgICBqZWwuZmluZCgnLmlubmVyOmZpcnN0JykuY3NzICd0cmFuc2Zvcm0nLCBcInRyYW5zbGF0ZTNkKDAsICN7dmFsKjN9cHgsIDBweClcIlxuICAgICAgICAgICAgICBqZWwuZmluZCgnLm92ZXJsYXknKS5jc3MgJ3RyYW5zZm9ybScsIFwidHJhbnNsYXRlM2QoMCwgI3t2YWwqMn1weCwgMHB4KVwiXG4gICAgICAgICAgICAgIGplbC5maW5kKCcub3ZlcmxheSA+IC5pbm5lcicpLmNzcyAndHJhbnNmb3JtJywgXCJ0cmFuc2xhdGUzZCgwLCAje3ZhbC81fXB4LCAwcHgpXCJcbiAgICAgICAgICAgICAgSW5kZXgudmFsc1tpXSA9IHZhbCozXG4gICBcbiAgaW5WaWV3cG9ydDogKGVsKSAtPlxuXG4gICAgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG5cbiAgICByZXR1cm4oXG4gICAgICAocmVjdC50b3AgPj0gMCB8fCByZWN0LmJvdHRvbSA+PSAwKSAmJlxuICAgICAgKHJlY3QudG9wIDw9IHdpbmRvdy5pbm5lckhlaWdodCB8fCByZWN0LmJvdHRvbSA8PSB3aW5kb3cuaW5uZXJIZWlnaHQpXG4gICAgKVxuXG4gIHZpZXdhYmxlOiAoZWwpIC0+XG4gICAgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgaGVpZ2h0ID0gcmVjdC5ib3R0b20tcmVjdC50b3BcblxuICAgIGVsTWlkZGxlID0gcmVjdC50b3AgKyBoZWlnaHQvMlxuICAgIHdpbk1pZGRsZSA9IHdpbmRvdy5pbm5lckhlaWdodC8yXG4gICAgbWF4ID0gd2luZG93LmlubmVySGVpZ2h0LzIgKyBoZWlnaHQvMlxuICAgIGRpZmYgPSB3aW5NaWRkbGUtZWxNaWRkbGVcbiAgICBwZXJjID0gMTAwIC0gTWF0aC5hYnMoZGlmZikqMTAwL21heFxuICAgIG5vbmFicyA9IE1hdGguYWJzKGRpZmYpKjEwMC9tYXhcbiAgICBub25hYnMgPSAtbm9uYWJzIGlmIGRpZmYgPCAwXG5cbiAgICByZXR1cm4gW3BlcmMsIG5vbmFic11cbiJdfQ==
